workflows:
  build_apk:
    name: Build Flutter APK
    max_build_duration: 30
    environment:
      flutter: stable
      vars:
        FLUTTER_CHANNEL: stable
      android_signing:
        - my_keystore
      groups:
        - google_play
      languages:
        python: "3.8"
    scripts:
      - name: Install dependencies
        script: |
          flutter pub get
      - name: Build APK
        script: |
          flutter build apk --release
    artifacts:
      - build/app/outputs/flutter-apk/app-release.apk

secrets:
  android_signing:
    my_keystore:
      keystore: EncryptedKeystore== 
      keystore_password: your_keystore_password
      key_alias: your_key_alias
      key_password: your_key_password
